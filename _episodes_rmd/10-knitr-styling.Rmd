---
title: 'Knitr Syntax: Styling Code Outputs'
teaching: 45
exercises: 10
questions:
- 

objectives:
- 

keypoints:
- 
source: Rmd
---

```{r, include=FALSE}
source("../bin/chunk-options.R")
knitr_fig_path("10-")
```
## Restyle the table with kable 

Our markdown table is formatted kind of weird. Unfortunately, it isn't possible to style tables created with basic markdown syntax. In order to create a table that is stylable, we need to save it as a dataframe and use a package function to style it. There are MANY packages that allow you to create tables in Rmd, but the most popular is the knitr package (which we use anyway for rendering the file). Within the knitr package, there is a function called kable() which creates a basic stylable table. 

1) change table to kable table
  a) load "knitr" & table1 data in first code chunk
  b) delete markdown table 
  c) paste in code to new code chunk (minus the caption)

> ## Note: Other table packages
> Include:
> Even though we can do a bit more styling with `kable()`, it's still pretty basic. To do more complex tables,  `kableExtra` package was developed. This especially allows more control over formatting. There are other multiple other packages as well that help with table formatting `officer`?? for Word and `xtable` are two examples. 
> FIXME add others & links to CRAN
{: .callout}

## Add captions to table & plots

A little different between the two. For the table, you can't add fig.cap to the chunk options, BUT the kable function lets you define a caption.
2) add fig.cap = 

  d) cut orignial table caption and add to caption option
    i.TABLE 1 - Major challenges to rigor observed in shared resources
    
    `caption="Table 1. Major challenges to rigor observed in shared resources"`

## Globally align & size plots/figures
3) globally size & align pictures.

add in addition to the `echo` option, to the global code chunk:

```
knitr::opts_chunk$set(fig.align = "center", out.width="60%", out.height="60%", echo = FALSE)
```

oh no, Fig 2 isn't aligning. We can add it to a code chunk instead:

name the code chunk fig-2 and copy and paste the caption between quotes with the `fig.cap=""` option. 
use `include_graphics()` from `knitr` package (alternatively can use syntax `knitr::include_graphics()). Add the file path in quotes. 

```
```{r fig-2, eval = FALSE, echo = TRUE, fig.cap="FIGURE 2 - Lack of requests for rigor and reproducibility documentation by users of shared resources."}
include_graphics("../figs/fig2_paper.jpg")
```
```
## Cross-referencing (optional)

from bookdown.org:

Cross-referencing is a useful way of directing your readers through your document, and can be automatically done within R Markdown. While this has been explained in Chapter 2 from the bookdown book, we want to present a brief summary below.

To use cross-references, you will need:

A bookdown output format: Cross-referencing is not provided directly within the base rmarkdown package, but is provided as an extension in bookdown (Xie 2020c). We must therefore use an output format from bookdown (e.g., html_document2, pdf_document2, and word_document2, etc.) in the YAML output field.

A caption to your figure (or table): Figures without a caption will be included directly as images and will therefore not be a numbered figure.

A labeled code chunk: This provides the identifier for referencing the figure generated by the chunk.

After these conditions are met, we can make cross-references within the text using the syntax \@ref(type:label), where label is the chunk label and type is the environment being referenced (e.g. tab, fig, or eqn). An example is provided below:

add to yaml

ouput:
  bookdown::html_document2:
  
the rest the same.

```{r}
library(bookdown)
```

2 cross-referencing additions. 
See table 1 in strategies section

See figure 2 shortly after

*Note adding crossing referencing re-names the figures, so should take the figure numbering out.